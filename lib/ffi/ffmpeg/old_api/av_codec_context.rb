module FFI
  module FFmpeg
    class AVCodecContext < FFI::Struct
      layout  :av_class, :pointer,
              :bit_rate, :int,
              :bit_rate_tolerance, :int,
              :flags, :int,
              :sub_id, :int,
              :me_method, :int,
              :extradata, :pointer,
              :extradata_size, :int,
              :time_base, AVRational,
              :width, :int,
              :height, :int,
              :gop_size, :int,
              :pix_fmt, PixelFormat,
              :rate_emu, :int,
              :draw_horiz_band, :pointer,
              :sample_rate, :int,
              :channels, :int,
              :sample_fmt, :int,    # TODO enum SampleFormat
              :frame_size, :int,
              :frame_number, :int,
              :real_pict_num, :int,
              :delay, :int,
              :qcompress, :float,
              :qblur, :float,
              :qmin, :int,
              :qmax, :int,
              :max_qdiff, :int,
              :max_b_frames, :int,
              :b_quant_factor, :float,
              :rc_strategy, :int,
              :b_frame_strategy, :int,
              :hurry_up, :int,
              :codec, :pointer,
              :priv_data, :pointer,
              :rtp_payload_size, :int,
              :rtp_callback, :pointer,
              :mv_bits, :int,
              :header_bits, :int,
              :i_tex_bits, :int,
              :p_tex_bits, :int,
              :i_count, :int,
              :p_count, :int,
              :skip_count, :int,
              :misc_bits, :int,
              :frame_bits, :int,
              :opaque, :pointer,
              :codec_name, [:char, 32],
              :codec_type, AVMediaType,
              :codec_id, :int,      # TODO enum CodecID
              :codec_tag, :uint,
              :workaround_bugs, :int,
              :luma_elim_threshold, :int,
              :chroma_elim_threshold, :int,
              :strict_std_compliance, :int,
              :b_quant_offset, :float,
              :error_recognition, :int,
              :get_buffer, :av_codec_context_get_buffer,
              :release_buffer, :pointer,
              :has_b_frames, :int,
              :block_align, :int,
              :parse_only, :int,
              :mpeg_quant, :int,
              :stats_out, :pointer,
              :stats_in, :pointer,
              :rc_qsquish, :float,
              :rc_qmod_amp, :float,
              :rc_qmod_freq, :int,
              :rc_override, :pointer,
              :rc_override_count, :int,
              :rc_eq, :pointer,
              :rc_max_rate, :int,
              :rc_min_rate, :int,
              :rc_buffer_size, :int,
              :rc_buffer_aggressivity, :float,
              :i_quant_factor, :float,
              :i_quant_offset, :float,
              :rc_initial_cplx, :float,
              :dct_algo, :int,
              :lumi_masking, :float,
              :temporal_cplx_masking, :float,
              :spatial_cplx_masking, :float,
              :p_masking, :float,
              :dark_masking, :float,
              :idct_algo, :int,
              :splice_count, :int,
              :slice_offset, :pointer,
              :error_concealment, :int,
              :dsp_mask, :uint,
              :bits_per_coded_sample, :int,
              :prediction_method, :int,
              :sample_aspect_ratio, AVRational,
              :coded_frame, :pointer,
              :debug, :int,
              :debug_mv, :int,
              :error, [:ulong_long, 4],
              :mb_qmin, :int,
              :mb_qmax, :int,
              :me_cmp, :int,
              :me_sub_cmp, :int,
              :ildct_cmp, :int,
              :dia_size, :int,
              :last_predictor_count, :int,
              :pre_me, :int,
              :me_pre_cmp, :int,
              :pre_dia_size, :int,
              :me_subpel_quality, :int,
              :get_format, :pointer,
              :dtg_active_format, :int,
              :me_range, :int,
              :intra_quant_bias, :int,
              :inter_quant_bias, :int,
              :color_table_id, :int,
              :internal_buffer_count, :int,
              :internal_buffer, :pointer,
              :global_quality, :int,
              :coder_type, :int,
              :context_model, :int,
              :slice_flags, :int,
              :xvmc_acceleration, :int,
              :mb_decision, :int,
              :intra_matrix, :pointer,
              :inter_matrix, :pointer,
              :stream_codec_tag, :int,
              :scenechange_threshold, :int,
              :lmin, :int,
              :lmax, :int,
              :palctrl, :pointer,
              :noise_reduction, :int,
              :reget_buffer, :pointer,
              :rc_initial_buffer_occupancy, :int,
              :inter_threshold, :int,
              :flags2, :int,
              :error_rate, :int,
              :antialias_algo, :int,
              :quantizer_noise_shaping, :int,
              :thread_count, :int,
              :execute, :pointer,
              :thread_opaque, :pointer,
              :me_threshold, :int,
              :mb_threshold, :int,
              :intra_dc_precision, :int,
              :nsse_weight, :int,
              :skip_top, :int,
              :skip_bottom, :int,
              :profile, :int,
              :level, :int,
              :lowres, :int,
              :coded_width, :int,
              :coded_height, :int,
              :frame_skip_threshold, :int,
              :frame_skip_factor, :int,
              :frame_skip_cmp, :int,
              :border_masking, :float,
              :mb_lmin, :int,
              :mb_lmax, :int,
              :me_penalty_compensation, :int,
              :skip_loop_filter, :int,      # TODO enum AVDiscard
              :skip_idct, :int,             # TODO enum AVDiscard
              :skip_frame, :int,            # TODO enum AVDiscard
              :bidir_refine, :int,
              :brd_scale, :int,
              :crf, :float,
              :cqp, :int,
              :keyint_min, :int,
              :refs, :int,
              :chromaoffset, :int,
              :bframebias, :int,
              :trellis, :int,
              :complexityblur, :float,
              :deblockalpha, :int,
              :deblockbeta, :int,
              :partitions, :int,
              :directpred, :int,
              :cutoff, :int,
              :scenechange_factor, :int,
              :mv0_threshold, :int,
              :b_sensitivity, :int,
              :compression_level, :int,
              :use_lpc, :int,
              :lpc_coeff_precision, :int,
              :min_prediction_order, :int,
              :max_prediction_order, :int,
              :prediction_order_method, :int,
              :min_partition_order, :int,
              :max_partition_order, :int,
              :timecode_frame_start, :long_long,
              :request_channel, :int,
              :drc_scale, :float,
              :reordered_opaque, :long_long,
              :bits_per_raw_sample, :int,
              :channel_layout, :long_long,
              :request_channel_layout, :long_long,
              :rc_max_available_vbv_use, :float,
              :rc_min_vbv_overflow_use, :float,
              :hwaccel, :pointer,
              :ticks_per_frame, :int,
              :hwaccel_context, :pointer,
              :color_primaries, :int,       # enum AVColorPrimaries
              :color_trc, :int,             # enum AVColorTransferCharacteristic
              :colorspace, :int,            # enum AVColorSpace
              :color_range, :int,           # enum AVColorRange
              :chroma_sample_location, :int,# enum AVChromaLocation
              :execute2, :pointer,
              :weighted_p_pred, :int,
              :aq_mode, :int,
              :aq_strength, :float,
              :psy_rd, :float,
              :psy_trellis, :float,
              :rc_lookahead, :int
      # LONGEST STRUCTURE EVER!!!!
    end
  end
end
